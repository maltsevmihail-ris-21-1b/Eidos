# Eidos
Мальцев Михаил РИС-21-1Б

## О Т Ч Е Т 
## по производственной практике, преддипломной


### ВВЕДЕНИЕ

Современные технологии аддитивного производства активно развиваются, открывая новые возможности в промышленности, робототехнике и моделировании. Одним из перспективных направлений является интеграция методов 3D-печати с роботизированными системами, что позволяет создавать сложные конструкции с высокой точностью и гибкостью. В данной работе рассматривается разработка программного обеспечения и адаптивного оборудования для сопряжения экструдера термоэкструзионной печати с роботом Eidos, что расширяет его функциональность и позволяет использовать его в качестве 3D-принтера.  

Актуальность темы обусловлена растущим спросом на гибридные робототехнические системы, способные выполнять не только стандартные манипуляционные задачи, но и аддитивное производство. Традиционные 3D-принтеры имеют ограниченную зону печати и жесткую кинематику, в то время как использование промышленного робота позволяет значительно увеличить рабочую область и печатать сложные геометрические формы.  

Объект исследования – процесс автоматизации термоэкструзионной печати с использованием промышленного робота-манипулятора Eidos.
Предмет исследования – разрабатываемое программное обеспечение для преобразования 3D-моделей в управляющие команды для робота, а также аппаратная система сопряжения, включающая переходное устройство для крепления экструдера, управляющую электронику (микроконтроллер и драйвер шагового двигателя) и соответствующее программное обеспечение для их взаимодействия.

Целью работы является разработка программно-аппаратного комплекса систем на роботизированной установке,  реализующего 3D-печать.

Основные задачи исследования:
  1. Проанализировать существующие решения в области роботизированной 3D-печати.  
  2. Разработать алгоритм конвертации 3D-модели в траекторию движения робота.  
  3. Спроектировать механический адаптер для установки экструдера на робот.  
  4. Выбрать и настроить электронные компоненты (микроконтроллер, драйвер шагового двигателя).  
  5. Запрограммировать микроконтроллер для управления экструдером на основе сигналов от робота.  
  6. Протестировать систему и оценить качество печати.  
Практическая значимость исследования состоит в том, что разработанное решение может быть применено в лабораторных условиях, мелкосерийном производстве и образовательных проектах, где требуется гибкость в использовании робототехнических комплексов.

### АНАЛИЗ ПРЕДМЕТНОЙ ОБЛАСТИ

#### 1 Общие сведения

  Пермский национальный исследовательский политехнический университет (ПНИПУ) — ведущий технический вуз, где активно развиваются инновационные направления, включая современный центр робототехники. Направления деятельности центра робототехники включают следующее:
  - Организация робототехнических кружков для школьников и студентов, создание "школьных КБ". Ранняя профориентация на поступление в технический вуз.
  - Привлечение старших школьников к студенческим проектам, ориентация на поступление на электротехнические специальности ПНИПУ.
  - Организация "студенческих КБ", привлечение студентов к самостоятельному творчеству по направлениям: "Информационные технологии", "Искусственный интеллект", "Робототехника".
  - Техническое обеспечение студенческих стартапов в области робототехники и электроники.
  - Научно-исследовательская деятельность в области робототехники и ИИ. привлечение грантов ФПИ, РФФИ и других. Участие в конкурсах и выставках.
    
Также в центре робототехники расположена промышленная роботизированная установка Eidos A12 Российского производства, которая  является универсальным роботом хорошо себя зарекомендовавшим на производственных и учебных предприятиях страны и мира. Основные сферы его использования: сварка, резка, перенесение предметов, нанесение покрытий, обслуживание станков, сборка и многое другое.
  
Отечественная компания «Эйдос Робототехника» (Eidos Robotics) из Казани поставила в конце 2021 году свою разработку на прессово-рамный завод КАМАЗа – робот-манипулятор А12(рисунок 1) используется на сварке кронштейна гидрозамка кабины. Устройство с заданием управляется за одну минуту, при этом сообщается, что «полученные в ходе операции соединения получаются ровные, крепкие и не требуют дополнительной зачистки от брызг».

![123](https://optim.tildacdn.com/tild6435-3966-4835-b833-386231663430/-/resize/744x/-/format/webp/004_copy_3.png.webp)
Рисунок 1 - робот манипулятор Eidos A12

Это российский робот-манипулятор, созданный и построенный в нашей стране. Если посмотреть, какие аналогичные манипуляторы используются сейчас на наших заводах, то пока это практически только иностранная продукция. Изделие «Эйдос Роботикс» прошло долгий путь от проекта до реализации. Эксплуатация российского робота обходится дешевле аналогов, потому что над поддержкой и обслуживанием работают российские специалисты.

Преимущества продукта заключаются в наличии комплектующих робота на территории РФ. Промышленный робот управляется с помощью языка Python, что дает возможность управлять роботом большому кругу специалистов. Назначение  и технические характеристики роботизированной установки позволяют разрабатывать комплексы программно-информационных систем, а также сопутствующую аппаратную реализацию в различных промышленных сферах.

Трмоэкструзионная печать – широко применяемая технология аддитивного производства, где материал (пластик, композит) подаётся через нагреваемый экструдер и послойно формирует изделие.

Аддитивное производство, или аддитивный технологический процесс — это процесс изготовления деталей, который основан на создании физического объекта по электронной модели путем добавления материала, как правило, слой за слоем.

Экструдер – это незаменимое оборудование при производстве изделий из пластмассы. Внутри данного устройства выполняется расплав полимерного состава, который, приобретя требуемую консистенцию, перемещается по соплам. Последние формируют продукцию необходимой формы. Так создаются самые различные детали. Устройство экструдера для 3D-печати представлено на рисунке 2.

![](https://robot-on.ru/images/articles/desc/3dprinter-09.jpg)
Рисунок  2 - Устройство экструдера	

В промышленности интеграция термоэкструзионной печати с роботами-манипуляторами позволяет создавать крупногабаритные детали сложной геометрии, недоступные традиционным 3D-принтерам. Традиционные декартовы 3D-принтеры обладают существенным ограничением - фиксированной рабочей зоной. Использование промышленных роботов-манипуляторов позволяет:
- Увеличить рабочее пространство,
- Реализовывать как планарную, так и непланарную печать.

Обычно 3D-принтеры наносят материал слой за слоем, по сути, в 2D-представлениях каждого слоя. Они соединяются вместе, образуя цельный 3D-объект. Однако, регулируя ось Z, можно наносить материал в трех измерениях, а не только в двух. Это не то, что могло бы сделать обычное программное обеспечение для подготовки работы на 3D-принтере; все предполагают, что вы выполняете стандартные послойные операции. Шестизвенная конструкция робота-манипулятора создает необходимые условия для реализации непланарной печати. Непланарная 3D-печать может достичь нескольких полезных целей: 
- Изогнутые поверхности могут быть потенциально гладкими и избегать неприглядных ступеней лестницы, которые можно увидеть на отпечатках с большинства 3D-принтеров. 
- Механическая прочность может быть улучшена, поскольку экструзии теоретически могут соответствовать силовым линиям, приложенным к объекту, избегая расслоения в самом слабом месте - на границах слоев.

#### 2 Анализ существующих решений

Любая 3D печать начинается с получения g-кода из исходной 3D модели. G-код — это тип языка программирования, используемый в областях числового программного управления и 3D-печати для управления движением станков . Он написан в программном обеспечении автоматизированного производства для предоставления инструкций по автоматизации различным функциям и инструментам станка. G-код означает геометрический код. В таблице 1 представлены номера g-команд и их описание.

Основные (в стандарте называются подготовительными) команды языка начинаются с буквы G: 
- перемещение рабочих органов оборудования с заданной скоростью (линейное и круговое); 
- выполнение типовых последовательностей (таких, как обработка отверстий и резьб); 
- управление параметрами инструмента, системами координат, и рабочих плоскостей.

Подготовительные (основные) команды и их Коды

Таблица 1 - Сводная таблица команд G-кодов[2]

<table>
    <tr>
        <th>Подготовительные (основные) команды / Коды</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>G00-G04</td>
        <td>Позиционирование инструмента</td>
    </tr>
    <tr>
        <td>G17-G19</td>
        <td>Переключение рабочих плоскостей (XY, XZ, YZ)</td>
    </tr>
    <tr>
        <td>G20-G21</td>
        <td>Не стандаризовано</td>
    </tr>
    <tr>
        <td>G40-G44</td>
        <td>Компенсация размера различных частей инструмента (длина, диаметр)</td>
    </tr>
    <tr>
        <td>G53-G59</td>
        <td>Переключение систем координат</td>
    </tr>
    <tr>
        <td>G80-G84</td>
        <td>Циклы сверления, нарезания резьбы</td>
    </tr>
    <tr>
        <td>G90-G92</td>
        <td>Переключение систем координат (абсолютная, относительная)</td>
    </tr>
</table>

Также существуют коды с адресом М. М-коды - это управляющие команды в станках с числовым программным управлением, которые отвечают за вспомогательные функции, не связанные напрямую с движением инструмента. Они контролируют различные процессы, такие как включение/выключение шпинделя, подачу охлаждающей жидкости, смену инструмента и другие операции. 

Основные примеры М-кодов: 
- M03 – Включение шпинделя по часовой стрелке 
- M05 – Остановка шпинделя 
- M08 – Включение охлаждающей жидкости 
- M09 – Выключение охлаждающей жидкости 
- M30 – Конец программы и возврат к началу

В таблице 2 представлены параметры для команд, их описание и примеры.

<table>
    <tr>
        <th>Код константы</th>
        <th>Описание</th>
        <th>Пример</th>
    </tr>
    <tr>
        <td>X</td>
        <td>Координата точки траектории по оси X</td>
        <td>G0 X0 Y0 Z100</td>
    </tr>
    <tr>
        <td>Y</td>
        <td>Координата точки траектории по оси Y</td>
        <td>G0 X0 Y0 Z100</td>
    </tr>
    <tr>
        <td>Z</td>
        <td>Координата точки траектории по оси Z</td>
        <td>G0 X0 Y0 Z100</td>
    </tr>
    <tr>
        <td>F</td>
        <td>Скорость рабочей подачи</td>
        <td>G1 G91 X10 F100</td>
    </tr>
    <tr>
        <td>S</td>
        <td>Скорость вращения шпинделя</td>
        <td>S3000 M3</td>
    </tr>
    <tr>
        <td>P</td>
        <td>Величина задержки или число вызовов подпрограммы</td>
        <td>M04 P101 или G82 R3 Z-10 P1000 F50</td>
    </tr>
</table>


Одним из способов получения g-кода является использование слайсера - программного обеспечения для создания траектории движения инструмента, используемое в 3D-печати. Это облегчает преобразование 3D-модели объекта в конкретные инструкции для принтера. Слайсер преобразует модель в формате STL в команды принтера в формате G-кода. Cura - бесплатный слайсер для 3d печати с возможностью узкой настройки более 300 различный параметров. Cura работает, разрезая файл модели пользователя на слои и генерируя для принтера g-code. После завершения g-код может быть отправлен на принтер для изготовления физического объекта. Cura - это программное обеспечение с открытым исходным кодом, совместимое с большинством настольных 3D-принтеров, может работать с файлами в наиболее распространённых 3D-форматах, таких как STL, OBJ, X3D, 3MF.

Также g-код можно разработать самому, что подходит для мелких задач, или использовать библиотеки языка программирования Python.

Для взаимодействия экструдера и компьютера робота Eidos необходим микроконтроллер, подключенный к компьютеру. Подключение может быть как по Wi-Fi, так и по USB. Использование USB проще и доступнее, поэтому стоит выбрать именно этот тип подключения. Микроконтроллер должен получать команды от компьютера и отправлять обратную связь для синхронизации действий робота. Микроконтроллер - связующее звено между экструдером и компьютером робота. Он выполняет управление драйвером шагового двигателя по нагреву и подаче смеси. Важно обеспечить синхронное выполнение всех команд по передвижению и команд экструзии.

Экструдер должен быть закреплен на фланце робота при помощи переходника, а остальная электроника, провода и подаваемое сырье должны быть закреплены на части манипулятора так, чтобы не ограничивать движения робота.

Фланец — плоская деталь квадратной, круглой или иной формы с отверстиями для болтов или шпилек, служащая для прочного и герметичного соединения труб, трубопроводной арматуры, присоединения труб друг к другу, к машинам, аппаратам и ёмкостям; для соединения валов и других вращающихся деталей.

Обеспечение безопасности и надежности достигается за счет аварийных выключателей, находящихся на панели шкафа управления роботом, а также на графическом интерфейсе пульта управления HMI[1].

Точность вычислений выполняется за счет проведения юстировочных действий по достижению согласованности механической и электронной позиции робота.

Для реализации 3D печати необходимо две вещи - экструдер и устройство перемещения(манипулятор). Существует много различных решения по реализации 3D печати, начиная от готовых 3D принтеров и заканчивая роботизированными установками для 3D печати. Роботизированные установки могут проводить непланарную печать, что производит возможность получения более сложных и гибких структур. 

Наличие роботизированной установки Eidos A12 и термоэкструдера значительно снижает финансовые затраты, исключая из необходимости рассматривать другие роботизированные установки к покупке, поскольку уже имеет все инструменты для реализации установки по 3D печати. 

Исходя из анализа предметной области можно составить следующие функциональные и нефункциональные требования.

#### 3 Функциональные требования

1. Преобразование 3D-моделей в управляющие команды  
 - Конвертация 3D-модели в G-код с учетом:  
   - Геометрии детали  
   - Параметров печати (температура, скорость, заполнение)  
 - Адаптация G-кода под кинематику Eidos (6 степеней свободы)
 - 
2. Управление оборудованием  
- Генерация сигналов для:  
  - Шагового двигателя экструдера и микроконтроллера
  - Нагревателя сопла 
  - Вентилятора охлаждения 
- Обратная связь по температуре

3. Взаимодействие с роботом Eidos  
- Прием команд по USB
- Синхронизация движения манипулятора и экструдера  
- Аварийная остановка при ошибках

4. Механическая часть  
- Крепление экструдера на фланце через переходник 
- Отвод кабелей без ограничения подвижности робота 

#### 4 Нефункциональные требования

1. Производительность  
- Скорость генерации G-кода: ≤1 мин для модели 20×20×20 см  
- Задержка передачи команд роботу: ≤50 мс  
2. Надежность  
- Время наработки на отказ: ≥500 ч  
- Защита от:  
  - Перегрева электроники  
  - Обрыва связи с роботом  
  - Механических перегрузок  
3. Точность  
- Позиционирование экструдера: ±0.1 мм  
- Поддержание температуры: ±3°C  
4. Совместимость  
- Программное обеспечение:  
  - ОС: Windows 10/Linux (Ubuntu 20.04)  
  - Библиотеки: Python 3.5+ 
-Аппаратное обеспечение:  
 - Микроконтроллер
 - Драйвер шагового двигателя
5. Безопасность  
- Аварийный выключатель
6. Эргономика  
- Вес адаптера с экструдером: ≤1.5 кг  
- Простота замены расходников 

#### 5 Выводы
Таким образом при помощи роботизированной установки Eidos A12 и термоэкструдера будет разработан безопасный, точный и надежный программно-аппаратный комплекс систем по реализации 3D печати практически исключающий какие либо финансовые затраты, а также позволяющих производить сложную и более гибкую печать 3D моделей.

### ЗАКЛЮЧЕНИЕ

Работа включала в себя комплексный анализ предметной области, который подтвердил перспективность использования промышленных роботов-манипуляторов для создания крупногабаритных деталей сложной геометрии. Были сформулированы функциональные и нефункциональные требования к системе, учитывающие особенности кинематики 6-осевого робота, требования к точности и надежности печати, а также параметры производительности и безопасности. Разработанное техническое решение позволяет эффективно использовать существующее оборудование для задач 3D-печати без значительных дополнительных затрат, реализуя при этом планарную и непланарную печать с улучшенными механическими характеристиками изделий. Практическая значимость работы заключается в расширении рабочей зоны по сравнению с традиционными 3D-принтерами, демонстрации возможностей импортозамещения в области аддитивных технологий, а также в перспективах применения данного решения в учебном процессе и научных исследованиях. В качестве дальнейших направлений развития проекта можно выделить оптимизацию алгоритмов генерации G-кода для 6-осевых систем, разработку специализированного ПО для управления процессом печати, исследование возможностей печати различными материалами, а также повышение точности и скорости печати. Проведенная работа убедительно доказывает, что интеграция промышленных роботов с технологиями аддитивного производства представляет собой перспективное направление, сочетающее гибкость роботизированных систем с преимуществами 3D-печати, а полученные результаты создают прочную основу для дальнейших исследований и практических разработок в данной области.

### СПИСОК ИСПОЛЬЗОВАННЫХ ИСТОЧНИКОВ

1. https://shopstanki.ru/blog/podrobnoe-opisanie-g-i-m-kodov-dlya-programmirovaniya-chpu-cnc-stankov/ - Описание G и M кодов для программирования фрезерных и токарных CNC станков с ЧПУ
2. OOO «Эйдос-Робототехника» «Руководство пользователя RCS Core, RCS HMI Версия 3.3», 2024. — 368 с.
